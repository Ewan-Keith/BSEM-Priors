{
    "contents" : "#### analysis of BSEM simulation results\nlibrary(dplyr)\nlibrary(reshape2)\nlibrary(ggplot2)\nlibrary(GGally)\nlibrary(ggthemes)\n\n#### sparse case ####\n\n# read data\nsparse_gauss <- read.csv(\"sim_results/sparse_gaus.csv\")\nsparse_lasso <- read.csv(\"sim_results/sparse_lasso.csv\")\nsparse_hs <- read.csv(\"sim_results/sparse_hs.csv\")\nsparse_hs_plus <- read.csv(\"sim_results/sparse_hs_plus.csv\")\nsparse_no_cl <- read.csv(\"sim_results/sparse_no_cl.csv\")\n\n# prepare cl estimates bias data\nsparse_cl_bias <- data.frame(gauss = sparse_gauss  %>% select(RMSE),\n                             lasso = sparse_lasso  %>% select(RMSE), \n                             hs = sparse_hs  %>% select(RMSE),\n                             hs_plus = sparse_hs_plus  %>% select(RMSE))\n\n# name columns\nnames(sparse_cl_bias) <- c(\"gauss\", \"lasso\", \"hs\", \"hs_plus\")\n\n# long form for plotting\nsparse_cl_bias_long <- sparse_cl_bias %>% melt()\n\n# ggplot box plot\nsparse_cl_bias %>% melt() %>% \n  ggplot(aes(x = variable, y = value)) +\n  geom_boxplot()\n\n## para-coord plot of cl bias\nggparcoord(sparse_cl_bias, alphaLines = .2, scale = 'globalminmax') + \n  stat_summary(fun.y=median, aes(group = 1), \n               colour='black', geom='line',\n               size = 1.5) + theme_hc() +\n  scale_x_discrete(expand=c(0,0))\n\n# prepare LOO fit data\nsparse_fit <- data.frame(no_cl = sparse_no_cl  %>% select(elpd_loo), \n                             gauss = sparse_gauss  %>% select(elpd_loo),\n                             lasso = sparse_lasso  %>% select(elpd_loo), \n                             hs = sparse_hs  %>% select(elpd_loo),\n                             hs_plus = sparse_hs_plus  %>% select(elpd_loo))\n\n# name columns\nnames(sparse_fit) <- c(\"no_cl\", \"gauss\", \"lasso\", \"hs\", \"hs_plus\")\n\n# make long for use\nsparse_fit_long <- sparse_fit %>% melt()\n\n# prepare LOO-SE fit data\nsparse_fit_se <- data.frame(no_cl = sparse_no_cl  %>% select(elpd_loo_se), \n                         gauss = sparse_gauss  %>% select(elpd_loo_se),\n                         lasso = sparse_lasso  %>% select(elpd_loo_se), \n                         hs = sparse_hs  %>% select(elpd_loo_se),\n                         hs_plus = sparse_hs_plus  %>% select(elpd_loo_se))\n\n# name columns\nnames(sparse_fit_se) <- c(\"no_cl\", \"gauss\", \"lasso\", \"hs\", \"hs_plus\")\n\n# make long for use\nsparse_fit_se_long <- sparse_fit_se %>% melt()\n\n# extract median fit\nsparse_fit_plot_data <- sparse_fit_long %>% \n  group_by(variable) %>% \n  summarise(med_fit = median(value))\n\n#extract median fit SE\ntemp_se_data <- sparse_fit_se_long %>% \n  group_by(variable) %>% \n  summarise(med_se = median(value))\n\n# merge the above two datasets for plotting\nsparse_fit_se_plot_data <- merge(sparse_fit_plot_data, temp_se_data)\n\n#produe upper and lower estimates for errorbar\nsparse_fit_se_plot_data <- sparse_fit_se_plot_data %>% \n  mutate(fit_upper = med_fit + med_se,\n         fit_lower = med_fit - med_se)\n\n## plot fit graph\nggplot(sparse_fit_se_plot_data, aes(x = variable, y = med_fit)) +\n  geom_point(shape = 18, size = 10) +\n  geom_errorbar(aes(ymin = fit_lower, ymax = fit_upper)) +\n  theme_hc()\n\n\n\n\n\nsparse_gauss  %>% melt() %>% filter(variable != 'RMSE',\n                                    variable != 'elpd_loo',\n                                    variable != 'elpd_loo_se',\n                                    variable != 'p_loo',\n                                    variable != 'p_loo_se') %>% \n  ggplot(aes(x = value)) + \n  geom_density() +\n  facet_wrap('variable')\n\n\n\n",
    "created" : 1465747917392.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2807729849",
    "id" : "E0DFEFF9",
    "lastKnownWriteTime" : 1465765295,
    "path" : "~/GitHub/BSEM Priors/figures/initial figures code.R",
    "project_path" : "figures/initial figures code.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "type" : "r_source"
}